# PixelFruit - 专业RAW图像处理工具

基于 LibRaw-Wasm 开发的高性能在线 RAW 格式图片处理工具，为摄影爱好者和专业用户提供完整的RAW文件编辑解决方案。

## 🚀 核心功能

- ✅ **原生RAW支持** - 完整支持主流相机RAW格式解析与处理
- ✅ **实时预览** - 所见即所得的实时图像调整效果
- ✅ **专业调色** - 完整的颜色调整工具集（亮度、对比度、饱和度、色调等）
- ✅ **细节处理** - 高级锐化、降噪和纹理处理算法
- ✅ **颜色替换** - 精确的颜色范围选择和替换功能
- ✅ **滤镜系统** - 丰富的预设滤镜和自定义滤镜支持
- ✅ **直方图分析** - 实时直方图显示，辅助专业调色
- ✅ **高性能处理** - Web Worker多线程处理，流畅的用户体验
- ✅ **多格式导出** - 支持PNG、JPEG等主流格式导出

## 📷 支持的相机格式

### 完全支持
- **索尼 (Sony)** - ARW 格式
- **佳能 (Canon)** - CR2 格式  
- **尼康 (Nikon)** - NEF 格式 (有问题驱动没看到不支持新的尼康相机)
- **富士 (Fuji)** - RAF 格式
- **松下 (Panasonic)** - RW2 格式
- **奥林巴斯 (Olympus)** - ORF 格式
- **宾得 (Pentax)** - DNG 格式
- **通用格式** - DNG 格式 (dng少量支持 手机的大部分不支持)

### 技术特性
- 支持12-16位色深处理
- 完整的元数据保留
- 白平衡信息读取
- 相机设置参数解析

## 🎯 使用指南

### 快速开始
1. **上传RAW文件** - 拖拽或点击选择你的RAW格式图片
2. **基础调整** - 使用左侧面板调整亮度、曝光、饱和度等基础参数
3. **高级调色** - 在右侧面板进行精细的颜色调整和细节处理
4. **滤镜应用** - 选择预设滤镜或创建自定义滤镜效果
5. **导出图片** - 选择PNG或JPEG格式导出最终结果

### 专业功能
- **颜色替换** - 精确选择颜色范围进行替换
- **直方图分析** - 实时查看图像色彩分布
- **细节处理** - 锐化和降噪处理
- **历史记录** - 保存和恢复处理步骤

## 🛠️ 技术架构

### 核心技术栈
- **LibRaw-Wasm** - RAW格式解析核心
- **Web Workers** - 多线程图像处理
- **Canvas API** - 图像渲染和操作
- **ES6 Modules** - 模块化架构设计

### 性能优化
- **智能缓存系统** - 多级缓存减少重复计算
- **防抖处理** - 优化用户交互响应
- **渐进式渲染** - 大图像分块处理
- **内存管理** - 自动垃圾回收和内存优化

## 📁 项目结构

### 核心文件
```
pixelFruit/
├── index.html          # 主页面入口
├── index.js           # 应用主逻辑
├── css/index.css      # 样式文件
├── libraw.js          # LibRaw WebAssembly接口
├── libraw.wasm        # LibRaw WebAssembly二进制
└── worker.js          # Web Worker处理脚本
```

### Files/ 模块目录
```
Files/
├── Basic.js              # 基础工具函数
├── color.js              # 颜色调整模块
├── Details.js            # 细节处理模块
├── exportImage.js        # 图像导出模块
├── ImageProcessor.js     # 图像处理器
├── HistogramManager.js   # 直方图管理器
├── SliderManager.js      # 滑块管理器
├── PerformanceOptimizer.js # 性能优化器
├── Filter.js             # 滤镜管理模块
├── Chart.js              # 图表管理模块
├── Replacecolor.js       # 颜色替换模块
└── zFiles.md            # 文件功能说明
```

### 构建文件
```
├── libraw_wrapper.cpp    # C++包装代码
├── compileLibraw.sh      # 编译脚本
├── makefile             # 构建配置
├── libs/                # 编译库文件
└── includes/            # 头文件目录
```

## 🚀 快速开始

### 本地运行
1. 克隆项目到本地
2. 使用 Live Server 或类似工具启动本地服务器
3. 在浏览器中访问 `http://localhost:5500`

### 在线使用
直接访问项目页面，无需安装任何软件

## 📄 许可证

⚠️ **使用条款**
- 本项目仅供个人学习和非商业使用
- 禁止用于任何商业用途
- 基于 LibRaw-Wasm 开源协议

**原始项目**: [LibRaw-Wasm](https://github.com/ybouane/LibRaw-Wasm)

## 🤝 贡献指南

欢迎参与项目改进：
- 提交 Issue 报告问题
- 提交 PR 贡献代码
- 分享使用体验和建议

## 📞 联系方式

- **项目地址**: [GitHub Repository]
- **问题反馈**: 通过 Issues 提交
- **功能建议**: 欢迎在 Issues 中讨论
